<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Box for Moon</title>
  
  <!-- Primary Meta Tags -->
  <meta name="title" content="The Box for Moon" />
  <meta name="description" content="" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://moonsjourney.vercel.app/" />
  <meta property="og:title" content="The Box for Moon" />
  <meta property="og:description" content="" />
  <meta property="og:image" content="https://moonsjourney.vercel.app/note.png" />

  <!-- X (Twitter) -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://moonsjourney.vercel.app/" />
  <meta property="twitter:title" content="The Box for Moon" />
  <meta property="twitter:description" content="" />
  <meta property="twitter:image" content="https://moonsjourney.vercel.app/note.png" />

  <!-- Meta Tags Generated with https://metatags.io -->
  <link rel='stylesheet' href='src/style.css'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sorts+Mill+Goudy:ital@0;1&family=Special+Elite&display=swap"
    rel="stylesheet">
</head>

<body>
  <header class="nav-wrapper container">
    <nav class="nav-buttons">
      <button type="button" class="btn intro-button">Open Intro</button>
      <button type="button" class="btn dialogue-button"></button>
      <button type="button" class="btn outro-button">Look Inside</button>
    </nav>
  </header>


  <div id="intro" class="modal" style="display: none;">
    <div class="modal-content container">
      <div class="close-container">
        <i class="close intro-close">×</i>
      </div>
      <div class="modal-header">
        <h1 class="site-title">The Box for Moon</h1>
      </div>
      
      <div class="modal-content-hidden" style="display: none;">
      <div class="modal-body">
        <div class="modal-column">
          <div id="animated-intro-text" class="intro-text-container">
            <i>
            <p>They say this box was left behind by someone who couldn't say everything when it mattered most
              <br>
              So they carved it into puzzles
              <br>
              Sealed it with time
              <br>
              Waiting
              <br>
              Many have tried the puzzles inside
              <br>
              But only the right person can solve them all
              <br>
            </p>
            <br>
            <p> Now it's yours.
              <br>
              But only if you can trace the path she's always walked.</p>
            </i>
            <br>
            <p class="postscript"></p>
          </div>
        </div>
        <div class="modal-column">
          <div class="note-container">
            <img src="/note.png" class="note-image" alt="A handwritten note">
          </div>
          <div id="intro-letter-text" class="visually-hidden">
          </div>
        </div>
      </div>
      </div>
      
      <!-- Visible body content with "Read Letter" button -->
      <div class="modal-body-visible">
        <div class="modal-body">
          <div class="modal-column">
            <div class="read-letter-container">
              <button type="button" class="btn always-hovered-btn dialogue-button" id="read-letter-btn" aria-label="Read the letter" title="Read the letter">
                Read The Letter
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="modal-footer">
        <!-- Audio Loading Progress Container -->
        <div id="audio-loading-container" class="fade-out" style="display: none;">
          <div class="loading-content">
            <p>Loading...</p>
            <div class="loading-bar-container">
              <div class="loading-bar">
                <div class="loading-bar-fill" id="audio-loading-progress"></div>
              </div>
              <div class="loading-text" id="audio-loading-text">0%</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Continue button positioned in footer -->
      <div id="continue-button-container" style="display: none; position: absolute; bottom: 5.5%; left: 50%; transform: translateX(-50%); z-index: 1000;">
        <button type="button" class="btn always-hovered-btn intro-close loading-complete-button dialogue-button">Continue</button>
      </div>
    </div>
  </div>

  <div id="outro" class="modal">
    <div class="modal-content container">
      <div class="close-container">
        <i class="close outro-close">×</i>
      </div>
      <div class="modal-header">
        <h2 class="congratulations-text">Congratulations</h2>
      </div>
      <div class="modal-body">
        <div class="modal-column">


          <p>Hello Moon</p>

          <p>
            I'm so glad you found your way here.<br>
            Sometimes it takes too many riddles to realize<br>
            the answer was to ask within all along.<br>
            Congratulations on completing the puzzle.<br>
            I leave you with a short stanza that I hope you'll resonate with:</p>
          <i>
            <br>
            <p>Sometimes moon wanes<br>
              Sometimes she hides<br>
              But she always has<br>
              a grip on the sea<br>
              And so does on me</p>
          </i>
          <br>
          <p>Happy Birthday Moon!</p>
          <p class="time-counter">PS.</p>
          <p class="postscript">PS. Did you know that Moon waxes religiously?</p>
        </div>
        <div class="modal-column">
          <img src="/nesrine.png" class="modal-image">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark download-button" onclick="downloadBirthdayCard()">Download Birthday Card</button>
        <button type="button" class="btn btn-dark continue-button end-button dialogue-button">Credits</button>
      </div>
    </div>
  </div>

  <div id="credits" class="modal">
    <div class="modal-content container">
      <div class="close-container">
        <i class="close credits-close">×</i>
      </div>
      <div class="modal-header">
        <h2 class="credits-title">Credits</h2>
      </div>
      <div class="modal-body">
        <div class="modal-column">
          <h3>Game Design & Development</h3>
          <p>Krzysztof Wende</p>
          <br>
          <h3>Box Model</h3>
          <p>Some dude on GitHub &#175;\_(ツ)_/&#175;</p>
          <br>
          <h3>Language and Internationalization</h3>
          <p>Agata Skrzypek, ChatGPT 4o</p>
        </div>
        <div class="modal-column">
          <h3>Technical Credits</h3>
          <p>Cursor, Three.js, Logic Pro, Not you Blender, Izotope RX</p>
          <br>
          <h3>Audio</h3>
          <p>Galdive - Teach me how to love</p>
          <br>
          <h3>Dedication</h3>
          <p>Moon, Theia, bloo_ness et al. </p>
        </div>
      </div>
    </div>
  </div>

  <div id="background"></div>
  <div id="background-flash"></div>
  
  <!-- Next puzzle indicator -->
  

  <script type="module" src="/src/main.js"></script>
  <script type="module" src="/src/microInteractions.js"></script>
</body>

</html>